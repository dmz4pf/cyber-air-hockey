# Context Snapshot - Air Hockey Puck Physics Investigation
**Date:** 2026-02-01 10:30

## Current Issue
Multiplayer puck physics is broken. My attempts to fix it made things worse.

## User Request
1. Revert to last commit
2. Study AI mode vs multiplayer mode puck movement using agents
3. Provide breakdown of differences
4. Use plan mode for investigation

## What Went Wrong
- Added logging and "fixes" that broke puck movement
- Puck entered goal but game didn't restart properly
- Puck ended up stationary outside play area
- My fix (stopping puck immediately after goal) made things worse

## Files Modified (Need to Revert)
- `server/src/physics/engine.ts` - Multiple changes to resetPuck, goal handling, start()

## Key Files to Compare
- `src/lib/physics/engine.ts` - AI mode physics (WORKS)
- `server/src/physics/engine.ts` - Server physics (BROKEN)
- `src/hooks/useGameEngine.ts` - AI mode hook
- `src/hooks/useMultiplayerGameEngine.ts` - Multiplayer hook

## Next Steps
1. Git revert to last working commit
2. Launch agents to study both physics implementations
3. Document differences
4. Create proper fix plan
